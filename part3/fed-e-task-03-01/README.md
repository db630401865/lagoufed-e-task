## 一、简答题

### 1、当我们点击按钮的时候动态给 data 增加的成员是否是响应式数据，如果不是的话，如何把新增成员设置成响应式数据，它的内部原理是什么。

````js
let vm = new Vue({
 el: '#el',
 data: {
  o: 'object',
  dog: {}
 },
 method: {
  clickHandler () {
   // 该 name 属性是否是响应式的
   this.dog.name = 'Trump'
  }
 }
})
```
是响应式的的，因为vue在创建实例的时候，会记录options的选项，通过vue中的_proxyData方法，把data属性注入到vue的实例里面，接着我们去创建observe，把data中的属性，转换为getter和setter，this.dog是一个对象已经有getter和setter方法，当增加name属性的时候，他会调用setter方法，他会通知的Dep，调用Dep里面的notify方法，notify方法会触发watcher的update方法，通知观察者。watcher的update方法去更新视图。


### 2、请简述 Diff 算法的执行过程
diff算法就是查找2个虚拟dom树上的差异，当dom树发生改变时，更新虚拟dom差异部分，同时更新到实际dom上
一般我们有2种实现方法。
    一种传统diff算法。把第一颗dom树上的每一个节点和另一颗树上的每一个节点相互比较，会使根节点和另一个dom树的每一个节点去比较，如果有n个节点。那么就会比较n的平方次幂。找到差异之后，再进行一次循环，更新差异部分
    一种是使用snabbdom库，只需要比较同级别的节点，如果同级别的不相等的话，直接删除重新创建，同级别的只需要比较一次，从而降低比较次数，如果有n个节点，只需要循环n次，并且在循环过程中去更新寻找差异，相对于传统的算法大大降低了比较次数
    snabbdom库执行过程有5中方法，1：有新开始节点和旧开始节点比较，2：有新结束节点和旧结束节点比较，3：新开始结果和旧结束节点比较，4：新结束结果和旧开始节点比较。最后一种就是以上4中情况都不是的情况下比较。
    例如第一种有新开始节点和旧开始节点比较：首先根据索引找到旧开始的节点和新开始节点，然后调用sameVnode函数 判断他们是否是相同节点，也就是比较key,sel是否相同。如果是相同节点的话，调用pathVnode方法，比较这2个节点的内部差异，然后更新到真实dom。比较完成之后会移动索引，吧索引移动到下一个节点的位置，再去比较第二个节点 。把第二个节点作为开始节点进行比较。这是比较开始节点的情况。如果开始节点不是sameVnode。会从后往前比较。比较旧的结束节点和新的结束节点 是否是sameVnode，如果是相同节点，直接调用pathVnode.比较完成之后会移动索引，移动到倒数第二个节点作为结束节点。在调用sameVnode。比较是否是相同节点，如果是相同节点。调用pathVnode.比较2个节点的差异。然后更新到真实的dom。注意这里2个节点是sameVnode的话，会重用之前旧节点对应的dom元素在pathVnode中，会对比新旧vnode的差异然后吧差异更新到重用的dom元素上。这个差异可能是文本内容不同，或者子元素不同。而当前dom不需要重新创建的。如果文本内容或子元素也都相同，是不会进行dom操作的。虚拟dom是通过这种方式提高性能的。其他四种也是同样的道理
    此时当循环结束的时候，有2种情况
    第一种：老节点的子节点个数小于新节点的子节点个数，这时候老节点先遍历完，那新节点还有剩余。那么新节点就是我们需要新增的dom元素，插入到老节点的末尾。
    第二种：老节点的子节点个数大于新节点的子节点个数，这时候新节点先遍历完，那老节点还有剩余的去情况下需要删除老得节点



## 二、编程题

### 1、模拟 VueRouter 的 hash 模式的实现，实现思路和 History 模式类似，把 URL 中的 # 后面的内容作为路由的地址，可以通过 hashchange 事件监听路由地址的变化。

myvue.js

### 2、在模拟 Vue.js 响应式源码的基础上实现 v-html 指令，以及 v-on 指令。

vue-response文件

### 3、参考 Snabbdom 提供的电影列表的示例，利用 Snabbdom 实现类似的效果，如图：

snabbdom-dom文件

<img src="images/Ciqc1F7zUZ-AWP5NAAN0Z_t_hDY449.png" alt="Ciqc1F7zUZ-AWP5NAAN0Z_t_hDY449" style="zoom:50%;" />
````
